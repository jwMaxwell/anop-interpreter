;; const pipe = (...funcs) => (input) => 
;;   funcs.reduce((val, func) => func(val), input)

(var push_back (expr (val arr) (
  
)))

(var last (expr (arr) (
  get ((- (length arr) 1) arr)
)))

(var reduce (expr (arr func) (
;;  (print (head (last (arr))))
  (print arr)
  (if (<  (length arr) 2)
    (print arr)
    (reduce (push (
              (func ((head (arr)) (get (1 arr))))
              (tail (tail arr))
            )) func))
)))

;; test
(var array (1 2 3 4 5))
(var function (expr (a b) (+ a b))) 
(print (reduce (array function)))
